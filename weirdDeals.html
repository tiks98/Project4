<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Object Prototypes | Home Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<style>
	img{
		height: 150px;
		width: auto;
		float:right;
	}
	article{
		border-bottom: solid 2px black;
	}
	</style>

<style type="text/css">
	#map {
	height: 400px;  /* The height is 400 pixels */
	width: 100%;  /* The width is 100% which matches the web pages */
   }

   h3 {
	   text-align: center;
	   color: red;
	   font-size: 50px;
   }
</style>
</head>

<body>
	<header>

	</header>
	<section>

	</section>
	<script>
		var header = document.querySelector('header');
		var section = document.querySelector('section');
		var requestURL = 'https://tiks98.github.io/Project4/jsonProducts.json';
		var request = new XMLHttpRequest();
		request.open('GET', requestURL);
		request.responseType = 'json';
		request.send();
		request.onload = function() {
			var topDeals = request.response;
			console.log(topDeals);
			populateHeader(topDeals);
			topDealss(topDeals);
		}
		function populateHeader(jsonObj){
			var headerH1 = document.createElement('h1');
			headerH1.textContent = jsonObj['Heading'];
			header.appendChild(headerH1);
			var headerPara = document.createElement('p');
			headerPara.textContent =  jsonObj['Headind']  + jsonObj['SecondHeading'];
			header.appendChild(headerPara);
		}
		function topDealss(jsonObj){
			var topProducts = jsonObj['topDeals'];
			for (var i = 0; i < topProducts.length; i++) {
				var article = document.createElement('article');
				var h2 = document.createElement('h2');
				var img = document.createElement('img');
				var p1 = document.createElement('p');
				var p2 = document.createElement('p');
				var list = document.createElement('ul');
				img.setAttribute('src', 'https://tiks98.github.io/Project4/images/' + topProducts[i].image);
				img.setAttribute('alt', topProducts[i].name);
				h2.textContent = topProducts[i].name;
				p1.textContent = 'Price: $' + topProducts[i].price;
				p2.textContent = 'description: ' + topProducts[i].description;
				var fectures = topProducts[i].fectures;
				for (var j = 0; j < fectures.length; j++) {
					var listItem = document.createElement('li');
					listItem.textContent = fectures[j];
					list.appendChild(listItem);
				}

				article.appendChild(img);
				article.appendChild(h2);
				article.appendChild(p1);
				article.appendChild(p2);
				article.appendChild(list);
				section.appendChild(article);
				}
			}
	
		</script>
		<script>
			function initMap(){


			var location1 = {lat: 44.405050, lng: -79.656593 };   

			var map = new google.maps.Map(
				document.getElementById('map'), {zoom: 12.5, center: location1});

			var marker = new google.maps.Marker({position: location1, map: map});


			var location2 = {lat: 44.371558, lng: -79.672600 };    

			var marker = new google.maps.Marker({position: location2, map: map});

			var location3 = {lat: 44.414966, lng: -79.711457 };     

			var marker = new google.maps.Marker({position: location3, map: map}); 
			}

			</script>

			<script async defer
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCqj5k31g_-4HBG67I394-DTD70iYD0wxU&callback=initMap">
		</script>
	
	</body>
</html>